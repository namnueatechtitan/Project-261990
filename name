public class TaxCalculator {

    public void calculateTax() {
        Scanner sc = new Scanner(System.in);
        double income = sc.nextDouble();

        double tax = 0;

        if (income > 20000)
            tax = income * 0.10;
        else if (income > 15000)
            tax = income * 0.05;
        else if (income > 10000)
            tax = income * 0.03;

        System.out.println("Tax = " + tax);
    }
}



(a) ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô spec ‡∏Ç‡∏≠‡∏á method calculateTax (2 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
Specification (Spec)
Precondition:
‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (income) ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏•‡∏ö
Postcondition:
‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏†‡∏≤‡∏©‡∏µ‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ
Side Effects:
‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å standard input
‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏î‡πâ‡∏ß‡∏¢ System.out.println


(b) ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ (3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á if-else
‡∏´‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 20,000 ‚Üí ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ 10%
‡∏´‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 15,000 ‚Üí ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ 5%
‡∏´‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 10,000 ‚Üí ‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ 3%
‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÉ‡∏î ‚Üí ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏†‡∏≤‡∏©‡∏µ
‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏†‡∏≤‡∏©‡∏µ‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠

(c) Review code: ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ
‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á if-else ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ input ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á
‡∏õ‡∏±‡∏ç‡∏´‡∏≤
Method ‡∏ó‡∏≥‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà (‡∏£‡∏±‡∏ö input, ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì, ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•)
‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö input ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏•‡∏ö)
‡πÑ‡∏°‡πà‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ (return) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ reuse ‡∏¢‡∏≤‡∏Å
‡πÉ‡∏ä‡πâ magic numbers (‡πÄ‡∏ä‡πà‡∏ô 20000, 10/100)

(d) ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô class TaxCalculator ‡πÉ‡∏´‡∏°‡πà (5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
public class TaxCalculator {

    public double calculateTax(double income) {
        if (income < 0) return 0;

        if (income > 20000)
            return income * 0.10;
        else if (income > 15000)
            return income * 0.05;
        else if (income > 10000)
            return income * 0.03;
        else
            return 0;
    }
}


‡∏Ç‡πâ‡∏≠ 2: Polynomial Functions 35 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
A
public class LinearFunction {

    protected double b;
    protected double c;

    // (a) Constructor
    public LinearFunction(double b, double c) {
        this.b = b;
        this.c = c;
    }

    // (b) valueAt: f(x) = bx + c
    public double valueAt(double x) {
        return b * x + c;
    }

    // (c) slopeAt: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ô‡∏Ñ‡∏á‡∏ó‡∏µ‡πà
    public double slopeAt(double x) {
        return b;
    }
}

public class QuadraticFunction extends LinearFunction {

    private double a;

    // (d) Constructor
    public QuadraticFunction(double a, double b, double c) {
        super(b, c);
        this.a = a;
    }

    // (e) override valueAt
    @Override
    public double valueAt(double x) {
        return a * x * x + super.valueAt(x);
    }

    // (f) override slopeAt
    @Override
    public double slopeAt(double x) {
        return 2 * a * x + super.slopeAt(x);
    }

    // (p) derivative
    public LinearFunction derivative() {
        return new LinearFunction(2 * a, b);
    }
}
B
public class PolynomialFunction {

    protected double a;
    protected double b;
    protected double c;

    // (g) Constructor
    public PolynomialFunction(double a, double b, double c) {
        this.a = a;
        this.b = b;
        this.c = c;
    }

    // (h) valueAt: f(x) = ax^2 + bx + c
    public double valueAt(double x) {
        return a * x * x + b * x + c;
    }

    // (i) slopeAt: f'(x) = 2ax + b
    public double slopeAt(double x) {
        return 2 * a * x + b;
    }
}

public class LinearFunction extends PolynomialFunction {/// implement

    // (j) Constructor
    public LinearFunction(double b, double c) {
        super(0, b, c);
    }
}

üîπ Specification Questions
(k) Specification ‡∏Ç‡∏≠‡∏á valueAt (1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
method ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤ x
(l) Precondition ‡∏Ç‡∏≠‡∏á valueAt (1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
‡∏Ñ‡πà‡∏≤ x ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ
(m) Specification ‡∏Ç‡∏≠‡∏á slopeAt (1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
method ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô ‡∏ì ‡∏à‡∏∏‡∏î x
(n) Precondition ‡∏Ç‡∏≠‡∏á slopeAt (1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
‡∏Ñ‡πà‡∏≤ x ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ

(o) ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å implementation ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ (3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Implementation A
‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:
‡πÉ‡∏ä‡πâ inheritance ‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
‡∏•‡∏î code duplication
‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏Å OOP ‡πÅ‡∏•‡∏∞ polymorphism
‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤

p) ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô method derivative() (3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
public LinearFunction derivative() {
    return new LinearFunction(2 * a, b);
}
(q) ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô slopeAt ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ derivative (3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
public double slopeAt(double x) {
    return derivative().valueAt(x);
}
(r) ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô derivative (3 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
LinearFunction g = new LinearFunction(4, 7);

g.derivative();
‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡∏¥‡∏î compile-time error
‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å LinearFunction ‡πÑ‡∏°‡πà‡∏°‡∏µ method derivative()
‡πÅ‡∏°‡πâ object ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô linear function ‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏ï‡πà method ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏ô class
